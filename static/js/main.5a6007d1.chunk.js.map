{"version":3,"sources":["components/Tile.js","components/Layer.js","components/SpecialPositionTile.js","components/Board.js","components/StatusBar.js","components/AboutModal.js","components/SettingsModal.js","components/IntroModal.js","components/GameOverModal.js","components/Mahjong.js","serviceWorker.js","index.js"],"names":["Tile","props","state","classes","id","tile","this","graphics","layer","row","index","className","data-layer","data-row","data-index","data-tile","onClick","clicker","React","Component","Layer","tiles","rowName","i","length","push","key","layerNumber","row1","addTilesToRow","layerItems","row2","row3","row4","row5","row6","row7","row8","specialPosition","Board","SpecialPositionTile","board","layer5","left","layer1","right1","right2","layer2","layer3","layer4","top","StatusBar","minutes","Math","floor","time","minutes1","minutes2","hours","hours2","seconds1","seconds2","title","showAvailable","hint","shuffler","data-modalid","openModal","href","target","rel","matches","AboutModal","closeButton","stopPropagation","enableBackground","height","version","viewBox","width","xmlSpace","xmlns","xmlnsXlink","d","SettingsModal","type","name","value","htmlFor","defaultChecked","setSettings","IntroModal","document","getElementById","classList","add","accessCookie","GameOverModal","description","victory","newGame","tileTypes","tileset","Mahjong","matchesElements","remainingShuffles","hintTimer","secondsElapsed","settings","audio","acceptCookies","initialShuffle","bind","distributeTiles","createRow","handleClick","checkMatch","setEmpty","setSelection","clearSelection","clearHint","toggleShowAvailable","getAvailableTiles","checkTileAvailability","shuffleTiles","getHint","closeModal","closeSettings","stopPropagationFunction","createCookie","newTileset","shuffledTileset","randomTile","splice","random","setState","rowLength","emptyLength","unshift","event","currentSelection","dataset","newState","querySelectorAll","forEach","remove","preventDefault","currentTiles","availableTiles","availableTilesElements","numMatches","v","clearInterval","interval","layerAbove","parseInt","split","setAttribute","tilesArray","style","currentTarget","modalid","checked","modalGraphics","allGraphics","cookieCheckbox","querySelector","cookie","setInterval","tick","cookieName","cookieNameEq","cookiesArray","tempCookie","trim","indexOf","substring","cookieValue","daysToExpire","date","Date","setTime","getTime","toGMTString","graphicsSetting","bgClasses","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5a6007d1.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Tile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let classes = \"\";\r\n        let id = \"\";\r\n        let tile = \"\";\r\n        \r\n        if (this.props.tile === \"empty\") {\r\n            classes = \"empty\";\r\n        // } else if (this.props.tile === \"flower1\" | this.props.tile === \"flower2\" | this.props.tile === \"flower3\" | this.props.tile === \"flower4\") {\r\n        //     classes = \"tile tile-\" + this.props.graphics + \" \" + this.props.tile;\r\n        //     id = this.props.layer + this.props.row + this.props.index;\r\n        //     tile = \"flower\";\r\n        // } else if (this.props.tile === \"season1\" | this.props.tile === \"season2\" | this.props.tile === \"season3\" | this.props.tile === \"season4\") {\r\n        //     classes = \"tile tile-\" + this.props.graphics + \" \" + this.props.tile;\r\n        //     id = this.props.layer + this.props.row + this.props.index;\r\n        //     tile = \"season\";\r\n        } else {\r\n            classes = \"tile tile-\" + this.props.graphics + \" \" + this.props.tile;\r\n            id = this.props.layer + this.props.row + this.props.index;\r\n            tile = this.props.tile;\r\n        }\r\n\r\n        return (\r\n            <div id={id} className={classes} data-layer={this.props.layer} data-row={this.props.row} data-index={this.props.index} data-tile={tile} onClick={this.props.clicker}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Tile;","import React from \"react\";\r\nimport Tile from \"./Tile\";\r\n\r\nclass Layer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    addTilesToRow(tiles, rowName) {\r\n        let row = [];\r\n        for (let i = 0; i < tiles.length; i++) {\r\n            row.push(<Tile key={i} tile={tiles[i]} layer={this.props.layerNumber} row={rowName} index={i} clicker={this.props.clicker} graphics={this.props.graphics} />);\r\n        }\r\n        return row;\r\n    } \r\n\r\n    render() {\r\n\r\n        let classes = \"layer \" + this.props.layerNumber;\r\n\r\n        let row1 = this.addTilesToRow(this.props.layerItems.row1, \"row1\");\r\n        let row2 = this.addTilesToRow(this.props.layerItems.row2, \"row2\");\r\n        let row3 = this.addTilesToRow(this.props.layerItems.row3, \"row3\");\r\n        let row4 = this.addTilesToRow(this.props.layerItems.row4, \"row4\");\r\n        let row5 = this.addTilesToRow(this.props.layerItems.row5, \"row5\");\r\n        let row6 = this.addTilesToRow(this.props.layerItems.row6, \"row6\");\r\n        let row7 = this.addTilesToRow(this.props.layerItems.row7, \"row7\");\r\n        let row8 = this.addTilesToRow(this.props.layerItems.row8, \"row8\");\r\n\r\n        return (\r\n            <div className={classes}>\r\n                <div className=\"row\">{row1}</div>\r\n                <div className=\"row\">{row2}</div>\r\n                <div className=\"row\">{row3}</div>\r\n                <div className=\"row\">{row4}</div>\r\n                <div className=\"row\">{row5}</div>\r\n                <div className=\"row\">{row6}</div>\r\n                <div className=\"row\">{row7}</div>\r\n                <div className=\"row\">{row8}</div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Layer;","import React from \"react\";\r\n\r\nclass Tile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let classes = \"\";\r\n        let id = \"\";\r\n        let tile = \"\";\r\n        \r\n        if (this.props.tile === \"empty\") {\r\n            classes = \"empty\";\r\n        // } else if (this.props.tile === \"flower1\" | this.props.tile === \"flower2\" | this.props.tile === \"flower3\" | this.props.tile === \"flower4\") {\r\n        //     classes = \"tile tile-\" + this.props.graphics + \" \" + this.props.tile + \" \" + this.props.specialPosition;\r\n        //     id = this.props.specialPosition;\r\n        //     tile = \"flower\";\r\n        // } else if (this.props.tile === \"season1\" | this.props.tile === \"season2\" | this.props.tile === \"season3\" | this.props.tile === \"season4\") {\r\n        //     classes = \"tile tile-\" + this.props.graphics + \" \" + this.props.tile + \" \" + this.props.specialPosition;\r\n        //     id = this.props.specialPosition;\r\n        //     tile = \"season\";\r\n        } else {\r\n            classes = \"tile tile-\" + this.props.graphics + \" \" + this.props.tile + \" \" + this.props.specialPosition;\r\n            id = this.props.specialPosition;\r\n            tile = this.props.tile;\r\n        }\r\n\r\n        return (\r\n            <div id={id} className={classes} data-layer=\"layer5\" data-row={this.props.row} data-index=\"0\" data-tile={tile} onClick={this.props.clicker}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Tile;","import React from \"react\";\r\nimport Layer from \"./Layer\";\r\nimport SpecialPositionTile from \"./SpecialPositionTile\";\r\n\r\nclass Board extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let boardClasses = \"board\";\r\n\r\n        // if (!this.props.accessCookie(\"initialize\")) {\r\n        //     boardClasses = \"board display-none\";\r\n        // }\r\n\r\n        return (\r\n            <div id=\"board\" className={boardClasses}>\r\n                <SpecialPositionTile tile={this.props.board.layer5.left[0]} row=\"left\" specialPosition=\"special-position-left\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n                <Layer layerItems={this.props.board.layer1} layerNumber=\"layer1\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n                <SpecialPositionTile tile={this.props.board.layer5.right1[0]} row=\"right1\" specialPosition=\"special-position-right1\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n                <SpecialPositionTile tile={this.props.board.layer5.right2[0]} row=\"right2\" specialPosition=\"special-position-right2\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n                <Layer layerItems={this.props.board.layer2} layerNumber=\"layer2\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n                <Layer layerItems={this.props.board.layer3} layerNumber=\"layer3\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n                <Layer layerItems={this.props.board.layer4} layerNumber=\"layer4\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n                <SpecialPositionTile tile={this.props.board.layer5.top[0]} row=\"top\" specialPosition=\"special-position-top\" clicker={this.props.clicker} graphics={this.props.graphics} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Board;","import React from \"react\";\r\n\r\nclass StatusBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let minutes = Math.floor(this.props.time / 60);\r\n\r\n\r\n        let minutes1 = minutes % 10;\r\n        let minutes2 = Math.floor(minutes / 10);\r\n\r\n        if (minutes2 > 5) {\r\n            minutes2 = minutes2 - (6 * Math.floor(minutes2 / 6));\r\n        }\r\n\r\n        let hours = Math.floor(minutes / 60);\r\n        let hours2 = \"\";\r\n\r\n        if (hours > 0) {\r\n            hours2 = hours + \":\";\r\n        }\r\n\r\n        let seconds1 = this.props.time % 10;\r\n        let seconds2 = Math.floor(this.props.time / 10);\r\n\r\n        if (seconds2 > 5) {\r\n            seconds2 = seconds2 - (6 * Math.floor(seconds2 / 6));\r\n        }\r\n\r\n        return (\r\n            <div className=\"status-bar\">\r\n                <div className=\"hud-interactions modal-container\">\r\n                    <div className=\"modal-content\">\r\n                        <button className=\"icon-button\" title=\"Highlight available tiles\" id=\"button-available-tiles\" onClick={this.props.showAvailable}>\r\n                            {/* <div className=\"icon-button-content\"> */}\r\n                                <i className=\"far fa-eye display-none\" id=\"available-tiles-active\" />\r\n                                <i className=\"far fa-eye-slash\" id=\"available-tiles-inactive\" />\r\n                            {/* </div> */}\r\n                        </button>\r\n                        <button className=\"icon-button icon-button-inactive\" title=\"Hint\" id=\"button-hint\" onClick={this.props.hint}>\r\n                            <div className=\"icon-button-cooldown\" id=\"button-hint-cooldown\" />\r\n                            {/* <div className=\"icon-button-content\"> */}\r\n                                <i className=\"far fa-lightbulb\" />\r\n                            {/* </div> */}\r\n                        </button>\r\n                        <button className=\"icon-button\" title=\"Shuffle tiles\" id=\"button-shuffle\" onClick={this.props.shuffler}>\r\n                            {/* <div className=\"icon-button-content\"> */}\r\n                                <i className=\"fas fa-random\" />\r\n                            {/* </div> */}\r\n                        </button>\r\n                        <div className=\"shuffle-pip\" id=\"shuffle-pip-1\"></div>\r\n                        <div className=\"shuffle-pip\" id=\"shuffle-pip-2\"></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"hud-settings modal-container\">\r\n                    <div className=\"modal-content\">\r\n                        <button className=\"icon-button\" title=\"Settings\" id=\"button-settings\" data-modalid=\"modal-settings\" onClick={this.props.openModal}>\r\n                            {/* <div className=\"icon-button-content\"> */}\r\n                                <i className=\"fas fa-cog\" />\r\n                            {/* </div> */}\r\n                        </button>\r\n                        <button className=\"icon-button\" title=\"About\" id=\"button-about\" data-modalid=\"modal-about\" onClick={this.props.openModal}>\r\n                            {/* <div className=\"icon-button-content\"> */}\r\n                                ?\r\n                            {/* </div> */}\r\n                        </button>\r\n                        <a id=\"button-donate\" title=\"Support me on Ko-Fi\" className=\"icon-button\" href='https://ko-fi.com/M4M2XMIW' target='_blank' rel=\"noopener noreferrer\">\r\n                            <div className=\"icon-button-content\">\r\n                                <i className=\"fas fa-mug-hot\" />\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"hud-timer modal-container\">\r\n                    <div className=\"modal-content\">\r\n                        <span className=\"icon-button\" title=\"Time elapsed\" id=\"timer\">\r\n                            <div className=\"icon-button-content\">\r\n                                <span id=\"time\">{hours2}{minutes2}{minutes1}:{seconds2}{seconds1}</span>\r\n                            </div>\r\n                        </span>\r\n                        <span className=\"icon-button\" title=\"Availalbe matches\" id=\"available-matches\">\r\n                            <div className=\"icon-button-content\">\r\n                                <i className=\"far fa-clone\" />&nbsp;{this.props.matches}\r\n                            </div>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StatusBar;","import React from \"react\";\r\n\r\nclass AboutModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id=\"modal-about\" className=\"modal-bg display-none\" data-modalid=\"modal-about\" onClick={this.props.closeButton}>\r\n                <div className=\"modal-container modal-about\" onClick={this.props.stopPropagation}>\r\n                    <div className=\"modal-content\">\r\n                        <button className=\"icon-button modal-close-button\" data-modalid=\"modal-about\" onClick={this.props.closeButton}>\r\n                            <svg enableBackground=\"new 0 0 256 256\" height=\"256px\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 256 256\" width=\"256px\" xmlSpace=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\"><path d=\"M137.051,128l75.475-75.475c2.5-2.5,2.5-6.551,0-9.051s-6.551-2.5-9.051,0L128,118.949L52.525,43.475  c-2.5-2.5-6.551-2.5-9.051,0s-2.5,6.551,0,9.051L118.949,128l-75.475,75.475c-2.5,2.5-2.5,6.551,0,9.051  c1.25,1.25,2.888,1.875,4.525,1.875s3.275-0.625,4.525-1.875L128,137.051l75.475,75.475c1.25,1.25,2.888,1.875,4.525,1.875  s3.275-0.625,4.525-1.875c2.5-2.5,2.5-6.551,0-9.051L137.051,128z\"/></svg>\r\n                        </button>\r\n                        <h2>About</h2>\r\n                        <p>\r\n                            Welcome to Mahjong Space!  This is a sci-fi themed Mahjong Solitaire!\r\n                        </p>\r\n                        <br />\r\n                        <h3>How to Play</h3>\r\n                        <p>\r\n                            The objective of Mahjong Space is to remove tiles by matching them until the board is clear.  Tiles can only be matched if they are open.  Tiles are considered open if they do not have a tile on top of them, and if they can be freely moved left or right without touching another tile.\r\n                        </p>\r\n                        <p>\r\n                            This version of Mahjong Solitaire affords you two shuffles that can be used to shuffle the remaining tiles in place.  You are free to shuffle whenever you wish, but you may want to wait until you run out of matches before doing so.\r\n                        </p>\r\n                        <p>\r\n                            You are also given a hint button, which will reveal one of the available matches.  After using it, the hint button has a 30 second cooldown period where it can't be used.\r\n                        </p>\r\n                        <p>\r\n                            Additonally, you are able to toggle the highlighting of open tiles at any time.\r\n                        </p>\r\n                        <br />\r\n                        <h3>\r\n                            Support\r\n                        </h3>\r\n                        <p>\r\n                            This game is provided for free on the internet.  If you wish to donate to support independent game development, you can buy me a space coffee at <a href=\"https://ko-fi.com/wbrueske\">ko-fi.com/wbrueske.</a>\r\n                        </p>\r\n                        <p>\r\n                            Thanks for playing!  Enjoy!\r\n                        </p>\r\n                        <br />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AboutModal;","import React from \"react\";\r\n\r\nclass SettingsModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id=\"modal-settings\" className=\"modal-bg display-none\" data-modalid=\"modal-settings\" onClick={this.props.closeButton}>\r\n                <div className=\"modal-container modal-settings\" onClick={this.props.stopPropagation}>\r\n                    <div className=\"modal-content\">\r\n                        <button className=\"icon-button modal-close-button\" data-modalid=\"modal-settings\" onClick={this.props.closeButton}>\r\n                            <svg enableBackground=\"new 0 0 256 256\" height=\"256px\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 256 256\" width=\"256px\" xmlSpace=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\"><path d=\"M137.051,128l75.475-75.475c2.5-2.5,2.5-6.551,0-9.051s-6.551-2.5-9.051,0L128,118.949L52.525,43.475  c-2.5-2.5-6.551-2.5-9.051,0s-2.5,6.551,0,9.051L118.949,128l-75.475,75.475c-2.5,2.5-2.5,6.551,0,9.051  c1.25,1.25,2.888,1.875,4.525,1.875s3.275-0.625,4.525-1.875L128,137.051l75.475,75.475c1.25,1.25,2.888,1.875,4.525,1.875  s3.275-0.625,4.525-1.875c2.5-2.5,2.5-6.551,0-9.051L137.051,128z\"/></svg>\r\n                        </button>\r\n                        <h2>Settings</h2>\r\n                        <hr />\r\n                        <form>\r\n                            <h3>Graphics:</h3>\r\n                            <div className=\"graphics-flex\">\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"settings-graphics-low\" className=\"graphics-radio\" name=\"graphics\" value=\"low\" /><label htmlFor=\"settings-graphics-low\">Low</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"settings-graphics-medium\" className=\"graphics-radio\" name=\"graphics\" value=\"medium\" /><label htmlFor=\"settings-graphics-medium\">Medium</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"settings-graphics-high\" className=\"graphics-radio\" name=\"graphics\" value=\"high\" defaultChecked /><label htmlFor=\"settings-graphics-high\">High</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"settings-graphics-veryhigh\" className=\"graphics-radio\" name=\"graphics\" value=\"veryhigh\" /><label htmlFor=\"settings-graphics-veryhigh\">Very High</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"settings-graphics-ultra\" className=\"graphics-radio\" name=\"graphics\" value=\"ultra\" /><label htmlFor=\"settings-graphics-ultra\">Ultra</label>\r\n                                </div>\r\n                            </div>\r\n                            <sub>Higher graphics will use more data and impact performance if you are playing on a mobile device.</sub>\r\n                            <br />\r\n                            <br />\r\n\r\n                            <hr />\r\n\r\n                            <h3>Cookies</h3>\r\n                            <input type=\"checkbox\" id=\"accept-cookies\" name=\"cookies\" /><label htmlFor=\"accept-cookies\">Accept cookies</label>\r\n                            <br />\r\n                            <sub>Cookies are only used to save your graphics settings.</sub>\r\n                            <br />\r\n                            <br />\r\n                            <hr />\r\n                            <br />\r\n\r\n                            <input type=\"submit\" value=\"Apply\" className=\"button\" data-modalid=\"modal-settings\" onClick={this.props.setSettings} />\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SettingsModal;","import React from \"react\";\r\n\r\nclass IntroModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.getElementById(\"modal-intro\").classList.add(\"modal-bg\");\r\n\r\n        if (this.props.accessCookie(\"graphics\")) {\r\n            document.getElementById(\"modal-intro\").classList.add(\"display-none\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <div id=\"modal-intro\">\r\n                <div className=\"modal-container modal-intro\" onClick={this.props.stopPropagation}>\r\n                    <div className=\"modal-content\">\r\n                        <h2>Mahjong Space</h2>\r\n                        <p>\r\n                            Welcome to Mahjong Space!  This is a sci-fi themed Mahjong Solitaire!\r\n                        </p>\r\n                        <hr />\r\n                        <form>\r\n                            <h3>Graphics:</h3>\r\n                            <div className=\"graphics-flex\">\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"intro-graphics-low\" className=\"graphics-radio\" name=\"graphics\" value=\"low\" /><label htmlFor=\"intro-graphics-low\">Low</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"intro-graphics-medium\" className=\"graphics-radio\" name=\"graphics\" value=\"medium\" /><label htmlFor=\"intro-graphics-medium\">Medium</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"intro-graphics-high\" className=\"graphics-radio\" name=\"graphics\" value=\"high\" defaultChecked /><label htmlFor=\"intro-graphics-high\">High</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"intro-graphics-veryhigh\" className=\"graphics-radio\" name=\"graphics\" value=\"veryhigh\" /><label htmlFor=\"intro-graphics-veryhigh\">Very High</label>\r\n                                </div>\r\n                                <div className=\"graphics-radio-container\">\r\n                                    <input type=\"radio\" id=\"intro-graphics-ultra\" className=\"graphics-radio\" name=\"graphics\" value=\"ultra\" /><label htmlFor=\"intro-graphics-ultra\">Ultra</label>\r\n                                </div>\r\n                            </div>\r\n                            <sub>Higher graphics will use more data and impact performance if you are playing on a mobile device.</sub>\r\n                            <br />\r\n                            <br />\r\n\r\n                            <hr />\r\n\r\n                            <h3>Cookies</h3>\r\n                            <input type=\"checkbox\" id=\"intro-accept-cookies\" name=\"cookies\" /><label htmlFor=\"intro-accept-cookies\">Accept cookies</label>\r\n                            <br />\r\n                            <sub>Cookies are only used to save your graphics settings and skip this intro when you come back to play again on this device.</sub>\r\n                            <br />\r\n                            <br />\r\n                            <hr />\r\n                            <br />\r\n\r\n                            <input type=\"submit\" value=\"Play!\" className=\"button\" data-modalid=\"modal-intro\" onClick={this.props.setSettings} />\r\n                        </form>\r\n                        <br />\r\n                        <h3>\r\n                            Support\r\n                        </h3>\r\n                        <p>\r\n                            This game is provided for free on the internet.  If you wish to donate to support independent game development, you can buy me a space coffee at <a href=\"https://ko-fi.com/wbrueske\">ko-fi.com/wbrueske.</a>\r\n                        </p>\r\n                        <p>\r\n                            Thanks for playing!  Enjoy!\r\n                        </p>\r\n                        <br />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default IntroModal;","import React from \"react\";\r\n\r\nclass GameOverModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let title = \"\";\r\n        let description = \"\";\r\n\r\n        if (this.props.victory) {\r\n            title = \"Victory!\"\r\n            description = \"You successfully matched all tiles!\"\r\n        } else {\r\n            title = \"Game over!\"\r\n            description = \"You did not successfully match all tiles.\"\r\n        }\r\n\r\n        return (\r\n            <div id=\"modal-game-over\" className=\"modal-bg display-none\" data-modalid=\"modal-game-over\" onClick={this.props.closeButton}>\r\n                <div className=\"modal-container modal-game-over\" onClick={this.props.stopPropagation}>\r\n                    <div className=\"modal-content\">\r\n                        <h2>{title}</h2>\r\n                        <p>\r\n                            {description}\r\n                        </p>\r\n                        <br />\r\n                        <button className=\"button\" onClick={this.props.newGame}>New game!</button>\r\n                        <br />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GameOverModal;","import React from \"react\";\r\nimport Board from \"./Board\";\r\nimport StatusBar from \"./StatusBar\";\r\nimport AboutModal from \"./AboutModal\";\r\nimport SettingsModal from \"./SettingsModal\";\r\nimport IntroModal from \"./IntroModal\";\r\nimport GameOverModal from \"./GameOverModal\";\r\n\r\nconst tileTypes = [\r\n    \"dot1\", \"dot2\", \"dot3\", \"dot4\", \"dot5\", \"dot6\", \"dot7\", \"dot8\", \"dot9\",\r\n    \"bamboo1\", \"bamboo2\", \"bamboo3\", \"bamboo4\", \"bamboo5\", \"bamboo6\", \"bamboo7\", \"bamboo8\", \"bamboo9\",\r\n    \"character1\", \"character2\", \"character3\", \"character4\", \"character5\", \"character6\", \"character7\", \"character8\", \"character9\",\r\n    \"wind1\", \"wind2\", \"wind3\", \"wind4\",\r\n    \"dragon1\", \"dragon2\", \"dragon3\",\r\n    \"flower1\", \"flower2\", \"flower3\", \"flower4\",\r\n    \"season1\", \"season2\", \"season3\", \"season4\"\r\n];\r\n\r\nconst tileset = [\r\n    // Copy 1\r\n    \"dot1\", \"dot2\", \"dot3\", \"dot4\", \"dot5\", \"dot6\", \"dot7\", \"dot8\", \"dot9\",\r\n    \"bamboo1\", \"bamboo2\", \"bamboo3\", \"bamboo4\", \"bamboo5\", \"bamboo6\", \"bamboo7\", \"bamboo8\", \"bamboo9\",\r\n    \"character1\", \"character2\", \"character3\", \"character4\", \"character5\", \"character6\", \"character7\", \"character8\", \"character9\",\r\n    \"wind1\", \"wind2\", \"wind3\", \"wind4\",\r\n    \"dragon1\", \"dragon2\", \"dragon3\",\r\n    // Copy 2\r\n    \"dot1\", \"dot2\", \"dot3\", \"dot4\", \"dot5\", \"dot6\", \"dot7\", \"dot8\", \"dot9\",\r\n    \"bamboo1\", \"bamboo2\", \"bamboo3\", \"bamboo4\", \"bamboo5\", \"bamboo6\", \"bamboo7\", \"bamboo8\", \"bamboo9\",\r\n    \"character1\", \"character2\", \"character3\", \"character4\", \"character5\", \"character6\", \"character7\", \"character8\", \"character9\",\r\n    \"wind1\", \"wind2\", \"wind3\", \"wind4\",\r\n    \"dragon1\", \"dragon2\", \"dragon3\",\r\n    // Copy 3\r\n    \"dot1\", \"dot2\", \"dot3\", \"dot4\", \"dot5\", \"dot6\", \"dot7\", \"dot8\", \"dot9\",\r\n    \"bamboo1\", \"bamboo2\", \"bamboo3\", \"bamboo4\", \"bamboo5\", \"bamboo6\", \"bamboo7\", \"bamboo8\", \"bamboo9\",\r\n    \"character1\", \"character2\", \"character3\", \"character4\", \"character5\", \"character6\", \"character7\", \"character8\", \"character9\",\r\n    \"wind1\", \"wind2\", \"wind3\", \"wind4\",\r\n    \"dragon1\", \"dragon2\", \"dragon3\",\r\n    // Copy 4\r\n    \"dot1\", \"dot2\", \"dot3\", \"dot4\", \"dot5\", \"dot6\", \"dot7\", \"dot8\", \"dot9\",\r\n    \"bamboo1\", \"bamboo2\", \"bamboo3\", \"bamboo4\", \"bamboo5\", \"bamboo6\", \"bamboo7\", \"bamboo8\", \"bamboo9\",\r\n    \"character1\", \"character2\", \"character3\", \"character4\", \"character5\", \"character6\", \"character7\", \"character8\", \"character9\",\r\n    \"wind1\", \"wind2\", \"wind3\", \"wind4\",\r\n    \"dragon1\", \"dragon2\", \"dragon3\",\r\n    // Bonus\r\n    \"flower1\", \"flower2\", \"flower3\", \"flower4\",\r\n    \"season1\", \"season2\", \"season3\", \"season4\"\r\n];\r\n\r\nconst expiredCookieDate = \"Sun, 20 Jul 1969 20:17:00 UTC\";\r\n\r\nclass Mahjong extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            board: {\r\n                layer1: {\r\n                    row1: [], row2: [], row3: [], row4: [], row5: [], row6: [], row7: [], row8: []\r\n                },\r\n                layer2: {\r\n                    row1: [], row2: [], row3: [], row4: [], row5: [], row6: [], row7: [], row8: []\r\n                },\r\n                layer3: {\r\n                    row1: [], row2: [], row3: [], row4: [], row5: [], row6: [], row7: [], row8: []\r\n                },\r\n                layer4: {\r\n                    row1: [], row2: [], row3: [], row4: [], row5: [], row6: [], row7: [], row8: []\r\n                },\r\n                layer5: {\r\n                    left: [], top: [], right1: [], right2: []\r\n                },\r\n            },\r\n            matches: 0,\r\n            matchesElements: [],\r\n            remainingShuffles: 2,\r\n            showAvailable: false,\r\n            hint: null,\r\n            hintTimer: 0,\r\n            secondsElapsed: 0,\r\n            victory: false,\r\n            settings: {\r\n                graphics: \"none\",\r\n                audio: false,\r\n                acceptCookies: false\r\n            }\r\n        }\r\n\r\n        this.initialShuffle = this.initialShuffle.bind(this);\r\n        this.distributeTiles = this.distributeTiles.bind(this);\r\n        this.createRow = this.createRow.bind(this);\r\n\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.checkMatch = this.checkMatch.bind(this);\r\n        this.setEmpty = this.setEmpty.bind(this);\r\n\r\n        this.setSelection = this.setSelection.bind(this);\r\n        this.clearSelection = this.clearSelection.bind(this);\r\n        this.clearHint = this.clearHint.bind(this);\r\n\r\n        this.toggleShowAvailable = this.toggleShowAvailable.bind(this);\r\n        this.getAvailableTiles = this.getAvailableTiles.bind(this);\r\n        this.checkTileAvailability = this.checkTileAvailability.bind(this);\r\n\r\n        this.shuffleTiles = this.shuffleTiles.bind(this);\r\n        this.getHint = this.getHint.bind(this);\r\n\r\n        this.setSettings = this.setSettings.bind(this);\r\n\r\n        this.openModal = this.openModal.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n\r\n        this.closeSettings = this.closeSettings.bind(this);\r\n\r\n        this.stopPropagationFunction = this.stopPropagationFunction.bind(this);\r\n\r\n        this.accessCookie = this.accessCookie.bind(this);\r\n        this.createCookie = this.createCookie.bind(this);\r\n\r\n        this.newGame = this.newGame.bind(this);\r\n    }\r\n\r\n\r\n\r\n    initialShuffle(tileset) {\r\n        let newTileset = [...tileset];\r\n        let shuffledTileset = [];\r\n\r\n        for (let i = 0; i < tileset.length; i++) {\r\n            let randomTile = newTileset.splice(Math.floor(Math.random() * newTileset.length), 1);\r\n            shuffledTileset.push(randomTile[0]);\r\n        }\r\n\r\n        return shuffledTileset;\r\n    }\r\n\r\n    distributeTiles(tileset) {\r\n        this.setState(\r\n            {\r\n                board: {\r\n                    layer1: {\r\n                        row1: this.createRow(tileset, 12, 1),\r\n                        row2: this.createRow(tileset, 8, 3),\r\n                        row3: this.createRow(tileset, 10, 2),\r\n                        row4: this.createRow(tileset, 12, 1),\r\n                        row5: this.createRow(tileset, 12, 1),\r\n                        row6: this.createRow(tileset, 10, 2),\r\n                        row7: this.createRow(tileset, 8, 3),\r\n                        row8: this.createRow(tileset, 12, 1)\r\n                    },\r\n                    layer2: {\r\n                        row1: this.createRow(tileset, 0, 7),\r\n                        row2: this.createRow(tileset, 6, 4),\r\n                        row3: this.createRow(tileset, 6, 4),\r\n                        row4: this.createRow(tileset, 6, 4),\r\n                        row5: this.createRow(tileset, 6, 4),\r\n                        row6: this.createRow(tileset, 6, 4),\r\n                        row7: this.createRow(tileset, 6, 4),\r\n                        row8: this.createRow(tileset, 0, 7)\r\n                    },\r\n                    layer3: {\r\n                        row1: this.createRow(tileset, 0, 7),\r\n                        row2: this.createRow(tileset, 0, 7),\r\n                        row3: this.createRow(tileset, 4, 5),\r\n                        row4: this.createRow(tileset, 4, 5),\r\n                        row5: this.createRow(tileset, 4, 5),\r\n                        row6: this.createRow(tileset, 4, 5),\r\n                        row7: this.createRow(tileset, 0, 7),\r\n                        row8: this.createRow(tileset, 0, 7),\r\n                    },\r\n                    layer4: {\r\n                        row1: this.createRow(tileset, 0, 7),\r\n                        row2: this.createRow(tileset, 0, 7),\r\n                        row3: this.createRow(tileset, 0, 7),\r\n                        row4: this.createRow(tileset, 2, 6),\r\n                        row5: this.createRow(tileset, 2, 6),\r\n                        row6: this.createRow(tileset, 0, 7),\r\n                        row7: this.createRow(tileset, 0, 7),\r\n                        row8: this.createRow(tileset, 0, 7),\r\n                    },\r\n                    layer5: {\r\n                        left: tileset.splice(0, 1),\r\n                        top: tileset.splice(0, 1),\r\n                        right1: tileset.splice(0, 1),\r\n                        right2: tileset.splice(0, 1)\r\n                    }\r\n                }\r\n            },\r\n            \r\n            // Initialize the number of available matches after tiles have been distributed.\r\n            () => this.getAvailableTiles()\r\n        );\r\n\r\n    }\r\n\r\n\r\n    createRow(tileset, rowLength, emptyLength) {\r\n        let row = tileset.splice(0, rowLength);\r\n        for (let i = 0; i < emptyLength; i++) {\r\n            row.unshift(\"empty\");\r\n            row.push(\"empty\");\r\n        }\r\n        return row;\r\n    }\r\n\r\n \r\n    handleClick(event) {\r\n        event.stopPropagation();\r\n\r\n        if (this.checkTileAvailability(event.target)) {\r\n\r\n            if (this.state.hint === null) {\r\n                this.checkMatch(event) ? this.setEmpty(event, this.state): this.setSelection(event);\r\n\r\n            } else if (event.target === this.state.hint[0] || event.target === this.state.hint[1]) {\r\n\r\n                // See if the currently selected tile is the same as the hinted tile.\r\n                // Matches the currently selected tile if they're the same.\r\n                if (this.state.currentSelection) {\r\n                    if (this.state.currentSelection.tile === event.target.dataset.tile) {\r\n                        this.checkMatch(event) ? this.setEmpty(event, this.state): this.setSelection(event);\r\n                        this.clearHint();\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                let newState = this.state;\r\n\r\n                newState.board[newState.hint[0].dataset.layer][newState.hint[0].dataset.row][newState.hint[0].dataset.index] = \"empty\";\r\n                newState.board[newState.hint[1].dataset.layer][newState.hint[1].dataset.row][newState.hint[1].dataset.index] = \"empty\";\r\n\r\n                newState.hint[0].className = \"empty\";\r\n                newState.hint[1].className = \"empty\";\r\n\r\n                newState.hint = null;\r\n\r\n                this.setState(newState, () => {\r\n                    this.clearSelection();\r\n                    this.getAvailableTiles();\r\n                });\r\n\r\n                \r\n\r\n            } else {\r\n                this.checkMatch(event) ? this.setEmpty(event, this.state): this.setSelection(event);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    checkMatch(event) {\r\n        if (this.state.currentSelection) {\r\n\r\n            if (this.state.currentSelection.layer === event.target.dataset.layer \r\n                && this.state.currentSelection.row === event.target.dataset.row\r\n                && this.state.currentSelection.index === event.target.dataset.index) {\r\n                    // this.clearSelection();\r\n                    return false;\r\n\r\n            } else if (event.target.dataset.tile === this.state.currentSelection.tile && event.target.id !== this.state.currentSelection.id) {\r\n\r\n                // this.setEmpty(event, this.state);\r\n                return true;\r\n\r\n            } else if (event.target.dataset.tile === \"flower1\" || \r\n                        event.target.dataset.tile === \"flower2\" || \r\n                        event.target.dataset.tile === \"flower3\" || \r\n                        event.target.dataset.tile === \"flower4\") {\r\n                if (this.state.currentSelection.tile === \"flower1\" || \r\n                    this.state.currentSelection.tile === \"flower2\" || \r\n                    this.state.currentSelection.tile === \"flower3\" || \r\n                    this.state.currentSelection.tile === \"flower4\") {\r\n\r\n                        // this.setEmpty(event, this.state);\r\n                        return true;\r\n        \r\n                } else {\r\n                    // this.setSelection(event);\r\n                    return false;\r\n                }\r\n\r\n            } else if (event.target.dataset.tile === \"season1\" || \r\n                        event.target.dataset.tile === \"season2\" || \r\n                        event.target.dataset.tile === \"season3\" || \r\n                        event.target.dataset.tile === \"season4\") {\r\n                if (this.state.currentSelection.tile === \"season1\" || \r\n                    this.state.currentSelection.tile === \"season2\" || \r\n                    this.state.currentSelection.tile === \"season3\" || \r\n                    this.state.currentSelection.tile === \"season4\") {\r\n\r\n                        // this.setEmpty(event, this.state);\r\n                        return true;\r\n\r\n                } else {\r\n                    // this.setSelection(event);\r\n                    return false;\r\n                }\r\n\r\n            } else {\r\n                // this.setSelection(event);\r\n                return false;\r\n            }\r\n\r\n        } else {\r\n            // this.setSelection(event);\r\n            return false;\r\n        }\r\n\r\n        // this.getAvailableTiles();\r\n    }\r\n\r\n    setSelection(event) {\r\n        if (this.state.currentSelection) {\r\n            this.clearSelection();\r\n            if (this.state.currentSelection.layer === event.target.dataset.layer \r\n                && this.state.currentSelection.row === event.target.dataset.row\r\n                && this.state.currentSelection.index === event.target.dataset.index) {\r\n                    return;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            currentSelection: {\r\n                id: event.target.id,\r\n                layer: event.target.dataset.layer,\r\n                row: event.target.dataset.row,\r\n                index: event.target.dataset.index,\r\n                tile: event.target.dataset.tile\r\n            }\r\n        });\r\n\r\n        event.target.classList.add(\"tile-selected\");\r\n    }\r\n\r\n    setEmpty(event, state) {\r\n\r\n        event.target.className = \"empty\";\r\n        document.getElementById(this.state.currentSelection.id).className = \"empty\";\r\n\r\n        let newState = state;\r\n\r\n        newState.board[event.target.dataset.layer][event.target.dataset.row][event.target.dataset.index] = \"empty\";\r\n        newState.board[this.state.currentSelection.layer][this.state.currentSelection.row][this.state.currentSelection.index] = \"empty\";\r\n\r\n        newState.currentSelection = null;\r\n\r\n        this.setState(newState);\r\n        \r\n        this.getAvailableTiles();\r\n    }\r\n\r\n    clearSelection() {\r\n        let tilesArr = document.querySelectorAll(\".tile\");\r\n        tilesArr.forEach(tile => tile.classList.remove(\"tile-selected\"));\r\n\r\n        this.setState({\r\n            currentSelection: null\r\n        });\r\n    }\r\n\r\n    clearHint() {\r\n        let tilesArr = document.querySelectorAll(\".tile\");\r\n        tilesArr.forEach(tile => tile.classList.remove(\"tile-hint\"));\r\n\r\n        this.setState({\r\n            currentSelection: null,\r\n            hint: null\r\n        });\r\n    }\r\n\r\n    toggleShowAvailable(event) {\r\n        event.preventDefault();\r\n        if (this.state.showAvailable) {\r\n            document.getElementById(\"available-tiles-active\").classList.add(\"display-none\");\r\n            document.getElementById(\"available-tiles-inactive\").classList.remove(\"display-none\");\r\n            this.setState(\r\n                {\r\n                    showAvailable: false\r\n                },\r\n                \r\n                () => this.getAvailableTiles()\r\n            );\r\n        } else {\r\n            document.getElementById(\"available-tiles-active\").classList.remove(\"display-none\");\r\n            document.getElementById(\"available-tiles-inactive\").classList.add(\"display-none\");\r\n            this.setState(\r\n                {\r\n                    showAvailable: true\r\n                },\r\n                \r\n                () => this.getAvailableTiles()\r\n            );\r\n        }\r\n    }\r\n\r\n    getAvailableTiles() {\r\n        let currentTiles = document.querySelectorAll(\".tile\");\r\n        let availableTiles = [];\r\n        let availableTilesElements = [];\r\n        let numMatches = 0;\r\n        // console.log(currentTiles[0].dataset);\r\n        \r\n        currentTiles.forEach(tile => {\r\n            if (this.checkTileAvailability(tile)) {\r\n                availableTiles.push(tile);\r\n                tile.classList.remove(\"tile-dim\");\r\n            } else {\r\n                if (this.state.showAvailable) {\r\n                    tile.classList.add(\"tile-dim\");\r\n                } else {\r\n                    tile.classList.remove(\"tile-dim\");\r\n                }\r\n            }\r\n        });\r\n        // console.log(availableTiles);\r\n\r\n        for (let i = 0; i < availableTiles.length; i++) {\r\n            for (let v = i + 1; v < availableTiles.length; v++) {\r\n                // Logic for bonus tiles\r\n                if (availableTiles[i].dataset.tile === \"flower1\" ||\r\n                    availableTiles[i].dataset.tile === \"flower2\" ||\r\n                    availableTiles[i].dataset.tile === \"flower3\" ||\r\n                    availableTiles[i].dataset.tile === \"flower4\") {\r\n                        if (availableTiles[v].dataset.tile === \"flower1\" ||\r\n                            availableTiles[v].dataset.tile === \"flower2\" ||\r\n                            availableTiles[v].dataset.tile === \"flower3\" ||\r\n                            availableTiles[v].dataset.tile === \"flower4\") {\r\n                                numMatches += 1;\r\n                                availableTilesElements.push([availableTiles[i], availableTiles[v]]);\r\n                        }\r\n                } else if (availableTiles[i].dataset.tile === \"season1\" ||\r\n                            availableTiles[i].dataset.tile === \"season2\" ||\r\n                            availableTiles[i].dataset.tile === \"season3\" ||\r\n                            availableTiles[i].dataset.tile === \"season4\") {\r\n                                if (availableTiles[v].dataset.tile === \"season1\" ||\r\n                                    availableTiles[v].dataset.tile === \"season2\" ||\r\n                                    availableTiles[v].dataset.tile === \"season3\" ||\r\n                                    availableTiles[v].dataset.tile === \"season4\") {\r\n                                        numMatches += 1;\r\n                                        availableTilesElements.push([availableTiles[i], availableTiles[v]]);\r\n                                }\r\n                // Logic for other tiles\r\n                } else if (availableTiles[i].dataset.tile === availableTiles[v].dataset.tile) {\r\n                    numMatches += 1;\r\n                    availableTilesElements.push([availableTiles[i], availableTiles[v]]);\r\n                }\r\n            }\r\n        }\r\n\r\n        // console.log(numMatches);\r\n        this.setState({\r\n            matches: numMatches,\r\n            matchesElements: availableTilesElements\r\n        });\r\n\r\n        if (numMatches === 0) {\r\n            currentTiles.forEach(tile => tile.classList.add(\"tile-inactive\"));\r\n\r\n            if (this.state.remainingShuffles === 0) {\r\n                clearInterval(this.interval);\r\n\r\n                if (document.querySelectorAll(\".tile\").length === 0) {\r\n                    this.setState({\r\n                        victory: true\r\n                    });\r\n                }\r\n\r\n                document.getElementById(\"modal-game-over\").classList.remove(\"display-none\");\r\n            }\r\n        }\r\n    }\r\n\r\n    checkTileAvailability(tile) {\r\n        let layer = tile.dataset.layer;\r\n        let row = tile.dataset.row;\r\n        let index = tile.dataset.index;\r\n\r\n        if (layer === \"layer4\") {\r\n            if (this.state.board.layer5.top[0] === \"empty\") {\r\n                // console.log(\"available\");\r\n                return true;\r\n            } else {\r\n                // console.log(\"unavailable - top tile still in place\");\r\n                return false;\r\n            }\r\n        } else if (layer !== \"layer5\") {\r\n            let layerAbove = \"layer\" + (parseInt(layer.split(\"\").splice(5, 1)) + 1);\r\n\r\n            // Make sure the tile above is empty.\r\n            if (this.state.board[layerAbove][row][index] === \"empty\") {\r\n                // console.log(\"tile above is empty\");\r\n                // Make sure that the tile is clear on the left or right side.\r\n                if (this.state.board[layer][row][parseInt(index) - 1] === \"empty\" || this.state.board[layer][row][parseInt(index) + 1] === \"empty\") {\r\n\r\n                    if (layer === \"layer1\") {\r\n                        if (row === \"row4\" || row === \"row5\") {\r\n                            if (parseInt(index) === 1 && this.state.board.layer5.left[0] !== \"empty\") {\r\n                                // console.log(\"available\");\r\n                                return false;\r\n                            } else if (parseInt(index) === 12 && this.state.board.layer5.right1[0] !== \"empty\") {\r\n                                // console.log(\"available\");\r\n                                return false;\r\n                            } else {\r\n                                // console.log(\"unavailable - side tile(s) still in place\");\r\n                                // console.log(\"index: \" + index);\r\n                                return true;\r\n                            }\r\n                        } else {\r\n                            // console.log(\"available\");\r\n                            return true;\r\n                        }\r\n                    } else {\r\n                        // console.log(\"available\");\r\n                        return true;\r\n                    }\r\n                } else {\r\n                    // console.log(\"unavailable - tile is not clear on one or both sides\");\r\n                    return false;\r\n                }\r\n            } else {\r\n                // console.log(\"unavailable - there is a tile above this tile\");\r\n                return false;\r\n            }\r\n\r\n        } else if (layer === \"layer5\") {\r\n            if (row === \"right1\") {\r\n                // console.log(\"right1\");\r\n                if (this.state.board.layer5.right2[0] === \"empty\") {\r\n                    // console.log(\"available\");\r\n                    return true;\r\n                } else {\r\n                    // console.log(\"unavailable - rightmost tile still in play\");\r\n                    return false;\r\n                }\r\n            } else {\r\n                // console.log(\"available\");\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    shuffleTiles(event) {\r\n        event.preventDefault();\r\n        if (this.state.remainingShuffles > 0) {\r\n\r\n            if (this.state.remainingShuffles === 2) {\r\n                document.getElementById(\"shuffle-pip-2\").classList.add(\"icon-button-inactive\");\r\n            } else if (this.state.remainingShuffles === 1) {\r\n                document.getElementById(\"shuffle-pip-1\").classList.add(\"icon-button-inactive\");\r\n                document.getElementById(\"button-shuffle\").classList.add(\"icon-button-inactive\");\r\n                document.getElementById(\"button-shuffle\").setAttribute(\"title\", \"No shuffles remaining\");\r\n            }\r\n\r\n            let newState = this.state;\r\n\r\n            let currentTiles = document.querySelectorAll(\".tile\");\r\n            let tilesArray = [];\r\n\r\n            currentTiles.forEach(tile => {\r\n                tilesArray.push(tile.dataset.tile);\r\n                tile.classList.remove(...tileTypes, \"tile-selected\", \"tile-inactive\");\r\n                tile.dataset.tile = \"\";\r\n            });\r\n\r\n            currentTiles.forEach(tile => {\r\n                let randomTile = tilesArray.splice(Math.floor(Math.random() * tilesArray.length), 1);\r\n                tile.classList.add(randomTile[0]);\r\n                tile.dataset.tile = randomTile[0];\r\n\r\n                newState.board[tile.dataset.layer][tile.dataset.row][tile.dataset.index] = tile.dataset.tile;\r\n            });\r\n\r\n            newState.currentSelection = null;\r\n\r\n            newState.remainingShuffles--;\r\n\r\n            this.setState(newState, () => this.getAvailableTiles());\r\n            this.clearHint();\r\n        }\r\n    }\r\n\r\n    getHint(event) {\r\n        event.preventDefault();\r\n        if (this.state.hint === null) {\r\n            if (this.state.hintTimer > 30) {\r\n                this.clearSelection();\r\n                let hint = this.state.matchesElements[Math.floor(Math.random() * this.state.matchesElements.length)];\r\n                hint.forEach(tile => {\r\n                    tile.classList.add(\"tile-hint\");\r\n                });\r\n\r\n                this.setState({\r\n                    hint: hint,\r\n                    hintTimer: 0\r\n                });\r\n\r\n                document.getElementById(\"button-hint\").classList.add(\"icon-button-inactive\");\r\n                document.getElementById(\"button-hint-cooldown\").classList.remove(\"display-none\");\r\n            }\r\n        }\r\n    }\r\n\r\n    tick() {\r\n        this.setState(state => ({\r\n            secondsElapsed: state.secondsElapsed + 1,\r\n            hintTimer: state.hintTimer + 1\r\n        }));\r\n\r\n        if (this.state.hintTimer === 30) {\r\n            document.getElementById(\"button-hint\").classList.remove(\"icon-button-inactive\");\r\n            document.getElementById(\"button-hint-cooldown\").classList.add(\"display-none\");\r\n            document.getElementById(\"button-hint-cooldown\").style.height = 0;\r\n        } else if (this.state.hintTimer < 30) {\r\n            let height = this.state.hintTimer * 100 / 30;\r\n            document.getElementById(\"button-hint-cooldown\").style.height = height + \"%\";\r\n        }\r\n    }\r\n\r\n    openModal(event) {\r\n        event.preventDefault();\r\n        document.getElementById(event.currentTarget.dataset.modalid).classList.remove(\"display-none\");\r\n    }\r\n\r\n    closeModal(event) {\r\n        event.preventDefault();\r\n        document.getElementById(event.currentTarget.dataset.modalid).classList.add(\"display-none\");\r\n    }\r\n\r\n    closeSettings(event) {\r\n        let graphics = document.getElementById(event.target.dataset.modalid).querySelectorAll(\".graphics-radio\");\r\n\r\n        for (let i = 0; i < graphics.length; i++) {\r\n            if (graphics[i].value === this.state.settings.graphics) {\r\n                graphics[i].checked = true;\r\n            }\r\n        }\r\n\r\n        if (this.state.settings.acceptCookies) {\r\n            document.getElementById(\"accept-cookies\").checked = true;\r\n        } else {\r\n            document.getElementById(\"accept-cookies\").checked = false;\r\n        }\r\n\r\n        document.getElementById(event.target.dataset.modalid).classList.add(\"display-none\");\r\n    }\r\n\r\n    setSettings(event) {\r\n        event.preventDefault();\r\n        let newState = this.state;\r\n        let modalGraphics = document.getElementById(event.target.dataset.modalid).querySelectorAll(\".graphics-radio\");\r\n        let allGraphics = document.querySelectorAll(\".graphics-radio\");\r\n        let cookieCheckbox = document.getElementById(event.target.dataset.modalid).querySelector(\"input[type='checkbox']\");\r\n\r\n        for (let i = 0; i < modalGraphics.length; i++) {\r\n            if (modalGraphics[i].checked) {\r\n                newState.settings.graphics = modalGraphics[i].value;\r\n            }\r\n        }\r\n\r\n        newState.settings.acceptCookies = cookieCheckbox.checked;\r\n        this.setState(newState);\r\n        this.closeModal(event);\r\n\r\n        for (let i = 0; i < allGraphics.length; i++) {\r\n            if (allGraphics[i].value === newState.settings.graphics) {\r\n                allGraphics[i].checked = true;\r\n            }\r\n        }\r\n\r\n        document.getElementById(\"accept-cookies\").checked = cookieCheckbox.checked;\r\n\r\n        if (cookieCheckbox.checked) {\r\n            this.createCookie(\"graphics\", newState.settings.graphics, 365);\r\n        } else {\r\n            if (this.accessCookie(\"graphics\")) {\r\n                document.cookie = \"graphics= ; expires=\" + expiredCookieDate + \";\";\r\n            }\r\n        }\r\n\r\n        if (event.target.dataset.modalid === \"modal-intro\") {\r\n            this.interval = setInterval(() => this.tick(), 1000);\r\n        }\r\n    }\r\n\r\n    stopPropagationFunction(event) {\r\n        event.stopPropagation();\r\n    }\r\n\r\n\r\n    // Cookies\r\n    accessCookie(cookieName) {\r\n        let cookieNameEq = cookieName + \"=\";\r\n        let cookiesArray = document.cookie.split(\";\");\r\n        for (let i = 0; i < cookiesArray.length; i++) {\r\n            let tempCookie = cookiesArray[i].trim();\r\n            if (tempCookie.indexOf(cookieNameEq) === 0) {\r\n                return tempCookie.substring(cookieNameEq.length, tempCookie.length);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    createCookie(cookieName, cookieValue, daysToExpire) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (daysToExpire*24*60*60*1000));\r\n        document.cookie = cookieName + \"=\" + cookieValue + \"; expires=\" + date.toGMTString();\r\n    }\r\n\r\n\r\n\r\n\r\n    newGame(event) {\r\n        event.preventDefault();\r\n\r\n        let shuffledTileset = this.initialShuffle(tileset);\r\n        this.distributeTiles(shuffledTileset);\r\n\r\n        this.setState({\r\n            secondsElapsed: 0,\r\n            hintTimer: 0,\r\n            hint: null,\r\n            remainingShuffles: 2,\r\n            victory: false\r\n        });\r\n\r\n        \r\n        document.getElementById(\"button-hint-cooldown\").classList.remove(\"display-none\");\r\n        document.getElementById(\"button-hint-cooldown\").style.height = 0;\r\n        document.getElementById(\"button-hint\").classList.add(\"icon-button-inactive\");\r\n\r\n        document.getElementById(\"shuffle-pip-2\").classList.remove(\"icon-button-inactive\");\r\n        document.getElementById(\"shuffle-pip-1\").classList.remove(\"icon-button-inactive\");\r\n        document.getElementById(\"button-shuffle\").classList.remove(\"icon-button-inactive\");\r\n\r\n        document.getElementById(\"modal-game-over\").classList.add(\"display-none\");\r\n\r\n        this.interval = setInterval(() => this.tick(), 1000);\r\n    }\r\n\r\n    \r\n\r\n\r\n    componentDidMount() {\r\n        let shuffledTileset = this.initialShuffle(tileset);\r\n        this.distributeTiles(shuffledTileset);\r\n\r\n        if (this.accessCookie(\"graphics\")) {\r\n            let graphicsSetting = this.accessCookie(\"graphics\");\r\n\r\n            this.setState({\r\n                settings: {\r\n                    graphics: graphicsSetting,\r\n                    acceptCookies: true\r\n                }\r\n            });\r\n\r\n            document.getElementById(\"accept-cookies\").checked = true;\r\n\r\n            let graphics = document.querySelectorAll(\".graphics-radio\");\r\n    \r\n            for (let i = 0; i < graphics.length; i++) {\r\n                if (graphics[i].value === graphicsSetting) {\r\n                    graphics[i].checked = true;\r\n                }\r\n            }\r\n\r\n            this.interval = setInterval(() => this.tick(), 1000);\r\n        }\r\n    }\r\n   \r\n    render() {\r\n        let bgClasses;\r\n\r\n        if (this.state.settings.graphics === \"none\") {\r\n            bgClasses = \"background bg-none\";\r\n        } else if (this.state.settings.graphics === \"low\") {\r\n            bgClasses = \"background bg-low\";\r\n        } else if (this.state.settings.graphics === \"medium\" || this.state.settings.graphics === \"high\") {\r\n            bgClasses = \"background bg-medium\";\r\n        } else if (this.state.settings.graphics === \"veryhigh\" || this.state.settings.graphics === \"ultra\") {\r\n            bgClasses = \"background bg-high\";\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className={bgClasses} />\r\n                <div className=\"board-viewport\" onClick={this.clearSelection} >\r\n                    <div className=\"board-wrapper\">\r\n                        <Board board={this.state.board} clicker={this.handleClick} graphics={this.state.settings.graphics} accessCookie={this.accessCookie} />\r\n                    </div>\r\n                </div>\r\n                <StatusBar matches={this.state.matches} showAvailable={this.toggleShowAvailable} shuffler={this.shuffleTiles} hint={this.getHint} time={this.state.secondsElapsed} openModal={this.openModal} />\r\n                <AboutModal closeButton={this.closeModal} stopPropagation={this.stopPropagationFunction} />\r\n                <SettingsModal closeButton={this.closeSettings} stopPropagation={this.stopPropagationFunction} setSettings={this.setSettings} />\r\n                <GameOverModal victory={this.state.victory} newGame={this.newGame} />\r\n                <IntroModal closeButton={this.closeSettings} stopPropagation={this.stopPropagationFunction} setSettings={this.setSettings} accessCookie={this.accessCookie} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Mahjong;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"./style/style.scss\";\nimport Mahjong from './components/Mahjong';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Mahjong />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}