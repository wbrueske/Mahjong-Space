(window["webpackJsonpmahjong-solitaire"]=window["webpackJsonpmahjong-solitaire"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var i=a(0),o=a.n(i),r=a(8),s=a.n(r),n=(a(15),a(16),a(9)),l=a(2),c=a(3),h=a(6),d=a(4),m=a(1),u=a(5),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="",t="",a="";return"empty"===this.props.tile?e="empty":(e="tile tile-"+this.props.graphics+" "+this.props.tile,t=this.props.layer+this.props.row+this.props.index,a=this.props.tile),o.a.createElement("div",{id:t,className:e,"data-layer":this.props.layer,"data-row":this.props.row,"data-index":this.props.index,"data-tile":a,onClick:this.props.clicker})}}]),t}(o.a.Component),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"addTilesToRow",value:function(e,t){for(var a=[],i=0;i<e.length;i++)a.push(o.a.createElement(p,{key:i,tile:e[i],layer:this.props.layerNumber,row:t,index:i,clicker:this.props.clicker,graphics:this.props.graphics}));return a}},{key:"render",value:function(){var e="layer "+this.props.layerNumber,t=this.addTilesToRow(this.props.layerItems.row1,"row1"),a=this.addTilesToRow(this.props.layerItems.row2,"row2"),i=this.addTilesToRow(this.props.layerItems.row3,"row3"),r=this.addTilesToRow(this.props.layerItems.row4,"row4"),s=this.addTilesToRow(this.props.layerItems.row5,"row5"),n=this.addTilesToRow(this.props.layerItems.row6,"row6"),l=this.addTilesToRow(this.props.layerItems.row7,"row7"),c=this.addTilesToRow(this.props.layerItems.row8,"row8");return o.a.createElement("div",{className:e},o.a.createElement("div",{className:"row"},t),o.a.createElement("div",{className:"row"},a),o.a.createElement("div",{className:"row"},i),o.a.createElement("div",{className:"row"},r),o.a.createElement("div",{className:"row"},s),o.a.createElement("div",{className:"row"},n),o.a.createElement("div",{className:"row"},l),o.a.createElement("div",{className:"row"},c))}}]),t}(o.a.Component),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="",t="",a="";return"empty"===this.props.tile?e="empty":(e="tile tile-"+this.props.graphics+" "+this.props.tile+" "+this.props.specialPosition,t=this.props.specialPosition,a=this.props.tile),o.a.createElement("div",{id:t,className:e,"data-layer":"layer5","data-row":this.props.row,"data-index":"0","data-tile":a,onClick:this.props.clicker})}}]),t}(o.a.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"board",className:"board"},o.a.createElement(b,{tile:this.props.board.layer5.left[0],row:"left",specialPosition:"special-position-left",clicker:this.props.clicker,graphics:this.props.graphics}),o.a.createElement(g,{layerItems:this.props.board.layer1,layerNumber:"layer1",clicker:this.props.clicker,graphics:this.props.graphics}),o.a.createElement(b,{tile:this.props.board.layer5.right1[0],row:"right1",specialPosition:"special-position-right1",clicker:this.props.clicker,graphics:this.props.graphics}),o.a.createElement(b,{tile:this.props.board.layer5.right2[0],row:"right2",specialPosition:"special-position-right2",clicker:this.props.clicker,graphics:this.props.graphics}),o.a.createElement(g,{layerItems:this.props.board.layer2,layerNumber:"layer2",clicker:this.props.clicker,graphics:this.props.graphics}),o.a.createElement(g,{layerItems:this.props.board.layer3,layerNumber:"layer3",clicker:this.props.clicker,graphics:this.props.graphics}),o.a.createElement(g,{layerItems:this.props.board.layer4,layerNumber:"layer4",clicker:this.props.clicker,graphics:this.props.graphics}),o.a.createElement(b,{tile:this.props.board.layer5.top[0],row:"top",specialPosition:"special-position-top",clicker:this.props.clicker,graphics:this.props.graphics}))}}]),t}(o.a.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Math.floor(this.props.time/60),t=e%10,a=Math.floor(e/10);a>5&&(a-=6*Math.floor(a/6));var i=Math.floor(e/60),r="";i>0&&(r=i+":");var s=this.props.time%10,n=Math.floor(this.props.time/10);return n>5&&(n-=6*Math.floor(n/6)),o.a.createElement("div",{className:"status-bar"},o.a.createElement("div",{className:"hud-interactions modal-container"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{className:"icon-button",title:"Highlight available tiles",id:"button-available-tiles",onClick:this.props.showAvailable},o.a.createElement("i",{className:"far fa-eye display-none",id:"available-tiles-active"}),o.a.createElement("i",{className:"far fa-eye-slash",id:"available-tiles-inactive"})),o.a.createElement("button",{className:"icon-button icon-button-inactive",title:"Hint",id:"button-hint",onClick:this.props.hint},o.a.createElement("div",{className:"icon-button-cooldown",id:"button-hint-cooldown"}),o.a.createElement("i",{className:"far fa-lightbulb"})),o.a.createElement("button",{className:"icon-button",title:"Shuffle tiles",id:"button-shuffle",onClick:this.props.shuffler},o.a.createElement("i",{className:"fas fa-random"})),o.a.createElement("div",{className:"shuffle-pip",id:"shuffle-pip-1"}),o.a.createElement("div",{className:"shuffle-pip",id:"shuffle-pip-2"}))),o.a.createElement("div",{className:"hud-settings modal-container"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{className:"icon-button",title:"Settings",id:"button-settings","data-modalid":"modal-settings",onClick:this.props.openModal},o.a.createElement("i",{className:"fas fa-cog"})),o.a.createElement("button",{className:"icon-button",title:"About",id:"button-about","data-modalid":"modal-about",onClick:this.props.openModal},"?"),o.a.createElement("a",{id:"button-donate",title:"Support me on Ko-Fi",className:"icon-button",href:"https://ko-fi.com/M4M2XMIW",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("div",{className:"icon-button-content"},o.a.createElement("i",{className:"fas fa-mug-hot"}))))),o.a.createElement("div",{className:"hud-timer modal-container"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("span",{className:"icon-button",title:"Time elapsed",id:"timer"},o.a.createElement("div",{className:"icon-button-content"},o.a.createElement("span",{id:"time"},r,a,t,":",n,s))),o.a.createElement("span",{className:"icon-button",title:"Availalbe matches",id:"available-matches"},o.a.createElement("div",{className:"icon-button-content"},o.a.createElement("i",{className:"far fa-clone"}),"\xa0",this.props.matches)))))}}]),t}(o.a.Component),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"modal-about",className:"modal-bg display-none","data-modalid":"modal-about",onClick:this.props.closeButton},o.a.createElement("div",{className:"modal-container modal-about",onClick:this.props.stopPropagation},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{className:"icon-button modal-close-button","data-modalid":"modal-about",onClick:this.props.closeButton},o.a.createElement("svg",{enableBackground:"new 0 0 256 256",height:"256px",id:"Layer_1",version:"1.1",viewBox:"0 0 256 256",width:"256px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("path",{d:"M137.051,128l75.475-75.475c2.5-2.5,2.5-6.551,0-9.051s-6.551-2.5-9.051,0L128,118.949L52.525,43.475  c-2.5-2.5-6.551-2.5-9.051,0s-2.5,6.551,0,9.051L118.949,128l-75.475,75.475c-2.5,2.5-2.5,6.551,0,9.051  c1.25,1.25,2.888,1.875,4.525,1.875s3.275-0.625,4.525-1.875L128,137.051l75.475,75.475c1.25,1.25,2.888,1.875,4.525,1.875  s3.275-0.625,4.525-1.875c2.5-2.5,2.5-6.551,0-9.051L137.051,128z"}))),o.a.createElement("h2",null,"About"),o.a.createElement("p",null,"Welcome to Mahjong Space!  This is a sci-fi themed Mahjong Solitaire!"),o.a.createElement("br",null),o.a.createElement("h3",null,"How to Play"),o.a.createElement("p",null,"The objective of Mahjong Space is to remove tiles by matching them until the board is clear.  Tiles can only be matched if they are open.  Tiles are considered open if they do not have a tile on top of them, and if they can be freely moved left or right without touching another tile."),o.a.createElement("p",null,"This version of Mahjong Solitaire affords you two shuffles that can be used to shuffle the remaining tiles in place.  You are free to shuffle whenever you wish, but you may want to wait until you run out of matches before doing so."),o.a.createElement("p",null,"You are also given a hint button, which will reveal one of the available matches.  After using it, the hint button has a 30 second cooldown period where it can't be used."),o.a.createElement("p",null,"Additonally, you are able to toggle the highlighting of open tiles at any time."),o.a.createElement("br",null),o.a.createElement("h3",null,"Support"),o.a.createElement("p",null,"This game is provided for free on the internet.  If you wish to donate to support independent game development, you can buy me a space coffee at ",o.a.createElement("a",{href:"https://ko-fi.com/wbrueske"},"ko-fi.com/wbrueske.")),o.a.createElement("p",null,"Thanks for playing!  Enjoy!"),o.a.createElement("br",null))))}}]),t}(o.a.Component),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"modal-settings",className:"modal-bg display-none","data-modalid":"modal-settings",onClick:this.props.closeButton},o.a.createElement("div",{className:"modal-container modal-settings",onClick:this.props.stopPropagation},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{className:"icon-button modal-close-button","data-modalid":"modal-settings",onClick:this.props.closeButton},o.a.createElement("svg",{enableBackground:"new 0 0 256 256",height:"256px",id:"Layer_1",version:"1.1",viewBox:"0 0 256 256",width:"256px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("path",{d:"M137.051,128l75.475-75.475c2.5-2.5,2.5-6.551,0-9.051s-6.551-2.5-9.051,0L128,118.949L52.525,43.475  c-2.5-2.5-6.551-2.5-9.051,0s-2.5,6.551,0,9.051L118.949,128l-75.475,75.475c-2.5,2.5-2.5,6.551,0,9.051  c1.25,1.25,2.888,1.875,4.525,1.875s3.275-0.625,4.525-1.875L128,137.051l75.475,75.475c1.25,1.25,2.888,1.875,4.525,1.875  s3.275-0.625,4.525-1.875c2.5-2.5,2.5-6.551,0-9.051L137.051,128z"}))),o.a.createElement("h2",null,"Settings"),o.a.createElement("hr",null),o.a.createElement("form",null,o.a.createElement("h3",null,"Graphics:"),o.a.createElement("div",{className:"graphics-flex"},o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"settings-graphics-low",className:"graphics-radio",name:"graphics",value:"low"}),o.a.createElement("label",{htmlFor:"settings-graphics-low"},"Low")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"settings-graphics-medium",className:"graphics-radio",name:"graphics",value:"medium"}),o.a.createElement("label",{htmlFor:"settings-graphics-medium"},"Medium")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"settings-graphics-high",className:"graphics-radio",name:"graphics",value:"high",defaultChecked:!0}),o.a.createElement("label",{htmlFor:"settings-graphics-high"},"High")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"settings-graphics-veryhigh",className:"graphics-radio",name:"graphics",value:"veryhigh"}),o.a.createElement("label",{htmlFor:"settings-graphics-veryhigh"},"Very High")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"settings-graphics-ultra",className:"graphics-radio",name:"graphics",value:"ultra"}),o.a.createElement("label",{htmlFor:"settings-graphics-ultra"},"Ultra"))),o.a.createElement("sub",null,"Higher graphics will use more data and impact performance if you are playing on a mobile device."),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("h3",null,"Cookies"),o.a.createElement("input",{type:"checkbox",id:"accept-cookies",name:"cookies"}),o.a.createElement("label",{htmlFor:"accept-cookies"},"Accept cookies"),o.a.createElement("br",null),o.a.createElement("sub",null,"Cookies are only used to save your graphics settings."),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("input",{type:"submit",value:"Apply",className:"button","data-modalid":"modal-settings",onClick:this.props.setSettings})))))}}]),t}(o.a.Component),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("modal-intro").classList.add("modal-bg"),this.props.accessCookie("graphics")&&document.getElementById("modal-intro").classList.add("display-none")}},{key:"render",value:function(){return o.a.createElement("div",{id:"modal-intro"},o.a.createElement("div",{className:"modal-container modal-intro",onClick:this.props.stopPropagation},o.a.createElement("div",{className:"modal-content"},o.a.createElement("h2",null,"Mahjong Space"),o.a.createElement("p",null,"Welcome to Mahjong Space!  This is a sci-fi themed Mahjong Solitaire!"),o.a.createElement("hr",null),o.a.createElement("form",null,o.a.createElement("h3",null,"Graphics:"),o.a.createElement("div",{className:"graphics-flex"},o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"intro-graphics-low",className:"graphics-radio",name:"graphics",value:"low"}),o.a.createElement("label",{htmlFor:"intro-graphics-low"},"Low")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"intro-graphics-medium",className:"graphics-radio",name:"graphics",value:"medium"}),o.a.createElement("label",{htmlFor:"intro-graphics-medium"},"Medium")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"intro-graphics-high",className:"graphics-radio",name:"graphics",value:"high",defaultChecked:!0}),o.a.createElement("label",{htmlFor:"intro-graphics-high"},"High")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"intro-graphics-veryhigh",className:"graphics-radio",name:"graphics",value:"veryhigh"}),o.a.createElement("label",{htmlFor:"intro-graphics-veryhigh"},"Very High")),o.a.createElement("div",{className:"graphics-radio-container"},o.a.createElement("input",{type:"radio",id:"intro-graphics-ultra",className:"graphics-radio",name:"graphics",value:"ultra"}),o.a.createElement("label",{htmlFor:"intro-graphics-ultra"},"Ultra"))),o.a.createElement("sub",null,"Higher graphics will use more data and impact performance if you are playing on a mobile device."),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("h3",null,"Cookies"),o.a.createElement("input",{type:"checkbox",id:"intro-accept-cookies",name:"cookies"}),o.a.createElement("label",{htmlFor:"intro-accept-cookies"},"Accept cookies"),o.a.createElement("br",null),o.a.createElement("sub",null,"Cookies are only used to save your graphics settings and skip this intro when you come back to play again on this device."),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("input",{type:"submit",value:"Play!",className:"button","data-modalid":"modal-intro",onClick:this.props.setSettings})),o.a.createElement("br",null),o.a.createElement("h3",null,"Support"),o.a.createElement("p",null,"This game is provided for free on the internet.  If you wish to donate to support independent game development, you can buy me a space coffee at ",o.a.createElement("a",{href:"https://ko-fi.com/wbrueske"},"ko-fi.com/wbrueske.")),o.a.createElement("p",null,"Thanks for playing!  Enjoy!"),o.a.createElement("br",null))))}}]),t}(o.a.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="",t="";return this.props.victory?(e="Victory!",t="You successfully matched all tiles!"):(e="Game over!",t="You did not successfully match all tiles."),o.a.createElement("div",{id:"modal-game-over",className:"modal-bg display-none","data-modalid":"modal-game-over",onClick:this.props.closeButton},o.a.createElement("div",{className:"modal-container modal-game-over",onClick:this.props.stopPropagation},o.a.createElement("div",{className:"modal-content"},o.a.createElement("h2",null,e),o.a.createElement("p",null,t),o.a.createElement("br",null),o.a.createElement("button",{className:"button",onClick:this.props.newGame},"New game!"),o.a.createElement("br",null))))}}]),t}(o.a.Component),S=["dot1","dot2","dot3","dot4","dot5","dot6","dot7","dot8","dot9","bamboo1","bamboo2","bamboo3","bamboo4","bamboo5","bamboo6","bamboo7","bamboo8","bamboo9","character1","character2","character3","character4","character5","character6","character7","character8","character9","wind1","wind2","wind3","wind4","dragon1","dragon2","dragon3","flower1","flower2","flower3","flower4","season1","season2","season3","season4"],N=["dot1","dot2","dot3","dot4","dot5","dot6","dot7","dot8","dot9","bamboo1","bamboo2","bamboo3","bamboo4","bamboo5","bamboo6","bamboo7","bamboo8","bamboo9","character1","character2","character3","character4","character5","character6","character7","character8","character9","wind1","wind2","wind3","wind4","dragon1","dragon2","dragon3","dot1","dot2","dot3","dot4","dot5","dot6","dot7","dot8","dot9","bamboo1","bamboo2","bamboo3","bamboo4","bamboo5","bamboo6","bamboo7","bamboo8","bamboo9","character1","character2","character3","character4","character5","character6","character7","character8","character9","wind1","wind2","wind3","wind4","dragon1","dragon2","dragon3","dot1","dot2","dot3","dot4","dot5","dot6","dot7","dot8","dot9","bamboo1","bamboo2","bamboo3","bamboo4","bamboo5","bamboo6","bamboo7","bamboo8","bamboo9","character1","character2","character3","character4","character5","character6","character7","character8","character9","wind1","wind2","wind3","wind4","dragon1","dragon2","dragon3","dot1","dot2","dot3","dot4","dot5","dot6","dot7","dot8","dot9","bamboo1","bamboo2","bamboo3","bamboo4","bamboo5","bamboo6","bamboo7","bamboo8","bamboo9","character1","character2","character3","character4","character5","character6","character7","character8","character9","wind1","wind2","wind3","wind4","dragon1","dragon2","dragon3","flower1","flower2","flower3","flower4","season1","season2","season3","season4"],j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={board:{layer1:{row1:[],row2:[],row3:[],row4:[],row5:[],row6:[],row7:[],row8:[]},layer2:{row1:[],row2:[],row3:[],row4:[],row5:[],row6:[],row7:[],row8:[]},layer3:{row1:[],row2:[],row3:[],row4:[],row5:[],row6:[],row7:[],row8:[]},layer4:{row1:[],row2:[],row3:[],row4:[],row5:[],row6:[],row7:[],row8:[]},layer5:{left:[],top:[],right1:[],right2:[]}},matches:0,matchesElements:[],remainingShuffles:2,showAvailable:!1,hint:null,hintTimer:0,secondsElapsed:0,victory:!1,settings:{graphics:"none",audio:!1,acceptCookies:!1}},a.initialShuffle=a.initialShuffle.bind(Object(m.a)(a)),a.distributeTiles=a.distributeTiles.bind(Object(m.a)(a)),a.createRow=a.createRow.bind(Object(m.a)(a)),a.handleClick=a.handleClick.bind(Object(m.a)(a)),a.checkMatch=a.checkMatch.bind(Object(m.a)(a)),a.setEmpty=a.setEmpty.bind(Object(m.a)(a)),a.setSelection=a.setSelection.bind(Object(m.a)(a)),a.clearSelection=a.clearSelection.bind(Object(m.a)(a)),a.clearHint=a.clearHint.bind(Object(m.a)(a)),a.toggleShowAvailable=a.toggleShowAvailable.bind(Object(m.a)(a)),a.getAvailableTiles=a.getAvailableTiles.bind(Object(m.a)(a)),a.checkTileAvailability=a.checkTileAvailability.bind(Object(m.a)(a)),a.shuffleTiles=a.shuffleTiles.bind(Object(m.a)(a)),a.getHint=a.getHint.bind(Object(m.a)(a)),a.setSettings=a.setSettings.bind(Object(m.a)(a)),a.openModal=a.openModal.bind(Object(m.a)(a)),a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.closeSettings=a.closeSettings.bind(Object(m.a)(a)),a.stopPropagationFunction=a.stopPropagationFunction.bind(Object(m.a)(a)),a.accessCookie=a.accessCookie.bind(Object(m.a)(a)),a.createCookie=a.createCookie.bind(Object(m.a)(a)),a.newGame=a.newGame.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"initialShuffle",value:function(e){for(var t=Object(n.a)(e),a=[],i=0;i<e.length;i++){var o=t.splice(Math.floor(Math.random()*t.length),1);a.push(o[0])}return a}},{key:"distributeTiles",value:function(e){var t=this;this.setState({board:{layer1:{row1:this.createRow(e,12,1),row2:this.createRow(e,8,3),row3:this.createRow(e,10,2),row4:this.createRow(e,12,1),row5:this.createRow(e,12,1),row6:this.createRow(e,10,2),row7:this.createRow(e,8,3),row8:this.createRow(e,12,1)},layer2:{row1:this.createRow(e,0,7),row2:this.createRow(e,6,4),row3:this.createRow(e,6,4),row4:this.createRow(e,6,4),row5:this.createRow(e,6,4),row6:this.createRow(e,6,4),row7:this.createRow(e,6,4),row8:this.createRow(e,0,7)},layer3:{row1:this.createRow(e,0,7),row2:this.createRow(e,0,7),row3:this.createRow(e,4,5),row4:this.createRow(e,4,5),row5:this.createRow(e,4,5),row6:this.createRow(e,4,5),row7:this.createRow(e,0,7),row8:this.createRow(e,0,7)},layer4:{row1:this.createRow(e,0,7),row2:this.createRow(e,0,7),row3:this.createRow(e,0,7),row4:this.createRow(e,2,6),row5:this.createRow(e,2,6),row6:this.createRow(e,0,7),row7:this.createRow(e,0,7),row8:this.createRow(e,0,7)},layer5:{left:e.splice(0,1),top:e.splice(0,1),right1:e.splice(0,1),right2:e.splice(0,1)}}},(function(){return t.getAvailableTiles()}))}},{key:"createRow",value:function(e,t,a){for(var i=e.splice(0,t),o=0;o<a;o++)i.unshift("empty"),i.push("empty");return i}},{key:"handleClick",value:function(e){var t=this;if(e.stopPropagation(),this.checkTileAvailability(e.target))if(null===this.state.hint)this.checkMatch(e)?this.setEmpty(e,this.state):this.setSelection(e);else if(e.target===this.state.hint[0]||e.target===this.state.hint[1]){if(this.state.currentSelection&&this.state.currentSelection.tile===e.target.dataset.tile)return this.checkMatch(e)?this.setEmpty(e,this.state):this.setSelection(e),void this.clearHint();var a=this.state;a.board[a.hint[0].dataset.layer][a.hint[0].dataset.row][a.hint[0].dataset.index]="empty",a.board[a.hint[1].dataset.layer][a.hint[1].dataset.row][a.hint[1].dataset.index]="empty",a.hint[0].className="empty",a.hint[1].className="empty",a.hint=null,this.setState(a,(function(){t.clearSelection(),t.getAvailableTiles()}))}else this.checkMatch(e)?this.setEmpty(e,this.state):this.setSelection(e)}},{key:"checkMatch",value:function(e){return!!this.state.currentSelection&&((this.state.currentSelection.layer!==e.target.dataset.layer||this.state.currentSelection.row!==e.target.dataset.row||this.state.currentSelection.index!==e.target.dataset.index)&&(e.target.dataset.tile===this.state.currentSelection.tile&&e.target.id!==this.state.currentSelection.id||("flower1"===e.target.dataset.tile||"flower2"===e.target.dataset.tile||"flower3"===e.target.dataset.tile||"flower4"===e.target.dataset.tile?"flower1"===this.state.currentSelection.tile||"flower2"===this.state.currentSelection.tile||"flower3"===this.state.currentSelection.tile||"flower4"===this.state.currentSelection.tile:("season1"===e.target.dataset.tile||"season2"===e.target.dataset.tile||"season3"===e.target.dataset.tile||"season4"===e.target.dataset.tile)&&("season1"===this.state.currentSelection.tile||"season2"===this.state.currentSelection.tile||"season3"===this.state.currentSelection.tile||"season4"===this.state.currentSelection.tile))))}},{key:"setSelection",value:function(e){this.state.currentSelection&&(this.clearSelection(),this.state.currentSelection.layer===e.target.dataset.layer&&this.state.currentSelection.row===e.target.dataset.row&&this.state.currentSelection.index===e.target.dataset.index)||(this.setState({currentSelection:{id:e.target.id,layer:e.target.dataset.layer,row:e.target.dataset.row,index:e.target.dataset.index,tile:e.target.dataset.tile}}),e.target.classList.add("tile-selected"))}},{key:"setEmpty",value:function(e,t){e.target.className="empty",document.getElementById(this.state.currentSelection.id).className="empty";var a=t;a.board[e.target.dataset.layer][e.target.dataset.row][e.target.dataset.index]="empty",a.board[this.state.currentSelection.layer][this.state.currentSelection.row][this.state.currentSelection.index]="empty",a.currentSelection=null,this.setState(a),this.getAvailableTiles()}},{key:"clearSelection",value:function(){document.querySelectorAll(".tile").forEach((function(e){return e.classList.remove("tile-selected")})),this.setState({currentSelection:null})}},{key:"clearHint",value:function(){document.querySelectorAll(".tile").forEach((function(e){return e.classList.remove("tile-hint")})),this.setState({currentSelection:null,hint:null})}},{key:"toggleShowAvailable",value:function(e){var t=this;e.preventDefault(),this.state.showAvailable?(document.getElementById("available-tiles-active").classList.add("display-none"),document.getElementById("available-tiles-inactive").classList.remove("display-none"),this.setState({showAvailable:!1},(function(){return t.getAvailableTiles()}))):(document.getElementById("available-tiles-active").classList.remove("display-none"),document.getElementById("available-tiles-inactive").classList.add("display-none"),this.setState({showAvailable:!0},(function(){return t.getAvailableTiles()})))}},{key:"getAvailableTiles",value:function(){var e=this,t=document.querySelectorAll(".tile"),a=[],i=[],o=0;t.forEach((function(t){e.checkTileAvailability(t)?(a.push(t),t.classList.remove("tile-dim")):e.state.showAvailable?t.classList.add("tile-dim"):t.classList.remove("tile-dim")}));for(var r=0;r<a.length;r++)for(var s=r+1;s<a.length;s++)"flower1"===a[r].dataset.tile||"flower2"===a[r].dataset.tile||"flower3"===a[r].dataset.tile||"flower4"===a[r].dataset.tile?"flower1"!==a[s].dataset.tile&&"flower2"!==a[s].dataset.tile&&"flower3"!==a[s].dataset.tile&&"flower4"!==a[s].dataset.tile||(o+=1,i.push([a[r],a[s]])):"season1"===a[r].dataset.tile||"season2"===a[r].dataset.tile||"season3"===a[r].dataset.tile||"season4"===a[r].dataset.tile?"season1"!==a[s].dataset.tile&&"season2"!==a[s].dataset.tile&&"season3"!==a[s].dataset.tile&&"season4"!==a[s].dataset.tile||(o+=1,i.push([a[r],a[s]])):a[r].dataset.tile===a[s].dataset.tile&&(o+=1,i.push([a[r],a[s]]));this.setState({matches:o,matchesElements:i}),0===o&&(t.forEach((function(e){return e.classList.add("tile-inactive")})),0===document.querySelectorAll(".tile").length?(clearInterval(this.interval),this.setState({victory:!0}),document.getElementById("modal-game-over").classList.remove("display-none")):0===this.state.remainingShuffles&&(clearInterval(this.interval),document.getElementById("modal-game-over").classList.remove("display-none")))}},{key:"checkTileAvailability",value:function(e){var t=e.dataset.layer,a=e.dataset.row,i=e.dataset.index;if("layer4"===t)return"empty"===this.state.board.layer5.top[0];if("layer5"!==t){var o="layer"+(parseInt(t.split("").splice(5,1))+1);return"empty"===this.state.board[o][a][i]&&(("empty"===this.state.board[t][a][parseInt(i)-1]||"empty"===this.state.board[t][a][parseInt(i)+1])&&("layer1"!==t||("row4"!==a&&"row5"!==a||(1!==parseInt(i)||"empty"===this.state.board.layer5.left[0])&&(12!==parseInt(i)||"empty"===this.state.board.layer5.right1[0]))))}return"layer5"===t?"right1"!==a||"empty"===this.state.board.layer5.right2[0]:void 0}},{key:"shuffleTiles",value:function(e){var t=this;if(e.preventDefault(),this.state.remainingShuffles>0){2===this.state.remainingShuffles?document.getElementById("shuffle-pip-2").classList.add("icon-button-inactive"):1===this.state.remainingShuffles&&(document.getElementById("shuffle-pip-1").classList.add("icon-button-inactive"),document.getElementById("button-shuffle").classList.add("icon-button-inactive"),document.getElementById("button-shuffle").setAttribute("title","No shuffles remaining"));var a=this.state,i=document.querySelectorAll(".tile"),o=[];i.forEach((function(e){var t;o.push(e.dataset.tile),(t=e.classList).remove.apply(t,S.concat(["tile-selected","tile-inactive"])),e.dataset.tile=""})),i.forEach((function(e){var t=o.splice(Math.floor(Math.random()*o.length),1);e.classList.add(t[0]),e.dataset.tile=t[0],a.board[e.dataset.layer][e.dataset.row][e.dataset.index]=e.dataset.tile})),a.currentSelection=null,a.remainingShuffles--,this.setState(a,(function(){return t.getAvailableTiles()})),this.clearHint()}}},{key:"getHint",value:function(e){if(e.preventDefault(),null===this.state.hint&&this.state.hintTimer>30){this.clearSelection();var t=this.state.matchesElements[Math.floor(Math.random()*this.state.matchesElements.length)];t.forEach((function(e){e.classList.add("tile-hint")})),this.setState({hint:t,hintTimer:0}),document.getElementById("button-hint").classList.add("icon-button-inactive"),document.getElementById("button-hint-cooldown").classList.remove("display-none")}}},{key:"tick",value:function(){if(this.setState((function(e){return{secondsElapsed:e.secondsElapsed+1,hintTimer:e.hintTimer+1}})),30===this.state.hintTimer)document.getElementById("button-hint").classList.remove("icon-button-inactive"),document.getElementById("button-hint-cooldown").classList.add("display-none"),document.getElementById("button-hint-cooldown").style.height=0;else if(this.state.hintTimer<30){var e=100*this.state.hintTimer/30;document.getElementById("button-hint-cooldown").style.height=e+"%"}}},{key:"openModal",value:function(e){e.preventDefault(),document.getElementById(e.currentTarget.dataset.modalid).classList.remove("display-none")}},{key:"closeModal",value:function(e){e.preventDefault(),document.getElementById(e.currentTarget.dataset.modalid).classList.add("display-none")}},{key:"closeSettings",value:function(e){for(var t=document.getElementById(e.target.dataset.modalid).querySelectorAll(".graphics-radio"),a=0;a<t.length;a++)t[a].value===this.state.settings.graphics&&(t[a].checked=!0);this.state.settings.acceptCookies?document.getElementById("accept-cookies").checked=!0:document.getElementById("accept-cookies").checked=!1,document.getElementById(e.target.dataset.modalid).classList.add("display-none")}},{key:"setSettings",value:function(e){var t=this;e.preventDefault();for(var a=this.state,i=document.getElementById(e.target.dataset.modalid).querySelectorAll(".graphics-radio"),o=document.querySelectorAll(".graphics-radio"),r=document.getElementById(e.target.dataset.modalid).querySelector("input[type='checkbox']"),s=0;s<i.length;s++)i[s].checked&&(a.settings.graphics=i[s].value);a.settings.acceptCookies=r.checked,this.setState(a),this.closeModal(e);for(var n=0;n<o.length;n++)o[n].value===a.settings.graphics&&(o[n].checked=!0);document.getElementById("accept-cookies").checked=r.checked,r.checked?this.createCookie("graphics",a.settings.graphics,365):this.accessCookie("graphics")&&(document.cookie="graphics= ; expires=Sun, 20 Jul 1969 20:17:00 UTC;"),"modal-intro"===e.target.dataset.modalid&&(this.interval=setInterval((function(){return t.tick()}),1e3))}},{key:"stopPropagationFunction",value:function(e){e.stopPropagation()}},{key:"accessCookie",value:function(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){var o=a[i].trim();if(0===o.indexOf(t))return o.substring(t.length,o.length)}return!1}},{key:"createCookie",value:function(e,t,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),document.cookie=e+"="+t+"; expires="+i.toGMTString()}},{key:"newGame",value:function(e){var t=this;e.preventDefault();var a=this.initialShuffle(N);this.distributeTiles(a),this.setState({secondsElapsed:0,hintTimer:0,hint:null,remainingShuffles:2,victory:!1}),document.getElementById("button-hint-cooldown").classList.remove("display-none"),document.getElementById("button-hint-cooldown").style.height=0,document.getElementById("button-hint").classList.add("icon-button-inactive"),document.getElementById("shuffle-pip-2").classList.remove("icon-button-inactive"),document.getElementById("shuffle-pip-1").classList.remove("icon-button-inactive"),document.getElementById("button-shuffle").classList.remove("icon-button-inactive"),document.getElementById("modal-game-over").classList.add("display-none"),this.interval=setInterval((function(){return t.tick()}),1e3)}},{key:"componentDidMount",value:function(){var e=this,t=this.initialShuffle(N);if(this.distributeTiles(t),this.accessCookie("graphics")){var a=this.accessCookie("graphics");this.setState({settings:{graphics:a,acceptCookies:!0}}),document.getElementById("accept-cookies").checked=!0;for(var i=document.querySelectorAll(".graphics-radio"),o=0;o<i.length;o++)i[o].value===a&&(i[o].checked=!0);this.interval=setInterval((function(){return e.tick()}),1e3)}}},{key:"render",value:function(){var e;return"none"===this.state.settings.graphics?e="background bg-none":"low"===this.state.settings.graphics?e="background bg-low":"medium"===this.state.settings.graphics||"high"===this.state.settings.graphics?e="background bg-medium":"veryhigh"!==this.state.settings.graphics&&"ultra"!==this.state.settings.graphics||(e="background bg-high"),o.a.createElement("div",null,o.a.createElement("div",{className:e}),o.a.createElement("div",{className:"board-viewport",onClick:this.clearSelection},o.a.createElement("div",{className:"board-wrapper"},o.a.createElement(v,{board:this.state.board,clicker:this.handleClick,graphics:this.state.settings.graphics,accessCookie:this.accessCookie}))),o.a.createElement(w,{matches:this.state.matches,showAvailable:this.toggleShowAvailable,shuffler:this.shuffleTiles,hint:this.getHint,time:this.state.secondsElapsed,openModal:this.openModal}),o.a.createElement(f,{closeButton:this.closeModal,stopPropagation:this.stopPropagationFunction}),o.a.createElement(y,{closeButton:this.closeSettings,stopPropagation:this.stopPropagationFunction,setSettings:this.setSettings}),o.a.createElement(k,{victory:this.state.victory,newGame:this.newGame}),o.a.createElement(E,{closeButton:this.closeSettings,stopPropagation:this.stopPropagationFunction,setSettings:this.setSettings,accessCookie:this.accessCookie}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.e6cf6f01.chunk.js.map